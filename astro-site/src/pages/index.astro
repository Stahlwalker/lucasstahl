---
import Layout from '../layouts/Layout.astro';
---

<Layout
	title="Luke Stahl | Marketer & Developer"
	canonicalUrl="https://lukestahl.io"
>
	<header class="hero-section">
		<div class="hero-container">
			<div class="hero-content">
				<div class="code-greeting">
					<h1 class="code-comment">// Welcome to my digital space</h1>
					<div class="code-block">
						<div class="code-line">
							<span class="code-keyword">const</span> <span class="code-var">developerMarketing</span> = {'{'}
						</div>
						<div class="code-indent">
							<span class="code-property">name:</span> <span class="code-string">"Luke Stahl"</span>,
						</div>
						<div class="code-indent">
							<span class="code-property">focus:</span> <span class="code-string">"Marketing & Web Development"</span>,
						</div>
						<div class="code-indent">
							<span class="code-property">passion:</span> <span class="code-string">"Building better developer experiences"</span>
						</div>
						<div class="code-line">{'};'}</div>
					</div>
				</div>

				<div class="hero-buttons">
					<form action="/assets/Luke_Stahl_Resume_2025.pdf" download style="display: inline;">
						<button type="submit" class="btn-modern btn-primary-modern" id="viewResumeBtn">
							<i class="fa-solid fa-file-lines"></i>
							View Resume
						</button>
					</form>
					<a href="https://stahlwalker.notion.site/Luke-Stahl-s-Portfolio-of-Work-bc6f3e68e3084d37bfa023e4e8d3b901?source=copy_link"
					   target="_blank"
					   class="btn-modern btn-secondary-modern"
					   id="portfolioBtn">
						<i class="fa-solid fa-briefcase"></i>
						Portfolio
					</a>
				</div>

				<div class="scroll-indicator" id="scrollIndicator">
					<span>Scroll to explore</span>
					<i class="fa-solid fa-chevron-down"></i>
				</div>
			</div>
		</div>
	</header>

	<!-- Featured Content Section -->
	<section class="featured-content" id="featuredContent">
		<div class="section-container">
			<div class="section-header">
				<h2 class="section-title">
					<span class="code-bracket">&lt;</span>
					Highlights
					<span class="code-bracket">/&gt;</span>
				</h2>
				<p class="section-subtitle">Featured projects, insights, and explorations</p>
			</div>

			<!-- Sidebar Filter (only visible in sidebar-layout variant) -->
			<div class="highlights-wrapper" id="highlightsWrapper">
				<aside class="filter-sidebar" id="filterSidebar">
					<h3 class="filter-title">Filter by Type</h3>
					<button class="filter-btn active" data-filter="all">
						<i class="fa-solid fa-grid-2"></i>
						All Content
					</button>
					<button class="filter-btn" data-filter="article">
						<i class="fa-solid fa-file-lines"></i>
						Articles
					</button>
					<button class="filter-btn" data-filter="project">
						<i class="fa-solid fa-code"></i>
						Projects
					</button>
					<button class="filter-btn" data-filter="talk">
						<i class="fa-solid fa-video"></i>
						Talks
					</button>
				</aside>

				<div class="feed-container" id="feedContainer">
				<!-- Featured Blog: Open Source CMS -->
				<a href="https://webflow.com/blog/open-source-cms" target="_blank" rel="noopener noreferrer" class="feed-item-link">
					<article class="feed-item">
						<div class="feed-background feed-bg-3">
							<div class="abstract-shape shape-1"></div>
							<div class="abstract-shape shape-2"></div>
							<div class="abstract-shape shape-3"></div>
						</div>
						<div class="feed-content">
							<div class="feed-meta">
								<time class="feed-date">Dec 2025</time>
								<span class="feed-type type-article">Article</span>
							</div>
							<div class="feed-main">
								<h3 class="feed-title">The true cost of open source CMS</h3>
								<p class="feed-description">
									Open source doesn't remove cost. It just changes how you pay. Exploring the hidden costs of open source CMS platforms and what teams should consider when evaluating their options.
								</p>
								<div class="feed-tags">
									<span class="tag">CMS</span>
									<span class="tag">Open Source</span>
									<span class="tag">Architecture</span>
								</div>
								<span class="feed-link">
									Read Article <i class="fa-solid fa-arrow-up-right-from-square"></i>
								</span>
							</div>
						</div>
					</article>
				</a>

				<!-- Project: Family Gaming Hub -->
				<a href="https://family-gaming.netlify.app/" target="_blank" rel="noopener noreferrer" class="feed-item-link">
					<article class="feed-item">
					<div class="feed-background feed-bg-4">
						<div class="abstract-shape shape-1"></div>
						<div class="abstract-shape shape-2"></div>
						<div class="abstract-shape shape-3"></div>
					</div>
					<div class="feed-content">
						<div class="feed-meta">
							<time class="feed-date">Dec 2025</time>
							<span class="feed-type type-project">Project</span>
						</div>
						<div class="feed-main">
							<h3 class="feed-title">Family Gaming Hub</h3>
							<p class="feed-description">
								A nostalgic gaming hub built with React and Vite featuring a classic Mac OS 9 inspired interface and retro design aesthetic.
							</p>
							<div class="feed-tags">
								<span class="tag">React</span>
								<span class="tag">Vite</span>
								<span class="tag">Tailwind CSS</span>
							</div>
							<span class="feed-link">
								View Project <i class="fa-solid fa-arrow-up-right-from-square"></i>
							</span>
						</div>
					</div>
				</article>
				</a>

				<!-- Project 1: Fantasy Football Legend -->
				<a href="https://stahlwalker.github.io/fantasyfootball/" target="_blank" rel="noopener noreferrer" class="feed-item-link">
					<article class="feed-item">
					<div class="feed-background feed-bg-4">
						<div class="abstract-shape shape-1"></div>
						<div class="abstract-shape shape-2"></div>
						<div class="abstract-shape shape-3"></div>
					</div>
					<div class="feed-content">
						<div class="feed-meta">
							<time class="feed-date">Nov 2025</time>
							<span class="feed-type type-project">Project</span>
						</div>
						<div class="feed-main">
							<h3 class="feed-title">Fantasy Football Legend</h3>
							<p class="feed-description">
								A showcase website for a Fantasy Football League built with HTML, CSS, and JavaScript.
							</p>
							<div class="feed-tags">
								<span class="tag">HTML</span>
								<span class="tag">CSS</span>
								<span class="tag">JavaScript</span>
							</div>
							<span class="feed-link">
								View Project <i class="fa-solid fa-arrow-up-right-from-square"></i>
							</span>
						</div>
					</div>
				</article>
				</a>

				<!-- Project 2: Developer Hub -->
				<a href="https://developer-hub-webflow.vercel.app/" target="_blank" rel="noopener noreferrer" class="feed-item-link">
					<article class="feed-item">
					<div class="feed-background feed-bg-1">
						<div class="abstract-shape shape-1"></div>
						<div class="abstract-shape shape-2"></div>
						<div class="abstract-shape shape-3"></div>
					</div>
					<div class="feed-content">
						<div class="feed-meta">
							<time class="feed-date">Nov 2025</time>
							<span class="feed-type type-project">Project</span>
						</div>
						<div class="feed-main">
							<h3 class="feed-title">Developer Hub</h3>
							<p class="feed-description">
								Inspiration for what a modern developer portal should include, built with Vite, React, and TypeScript. Features Framer Motion animations, Tailwind CSS styling, and syntax highlighting with Prism.
							</p>
							<div class="feed-tags">
								<span class="tag">Vite</span>
								<span class="tag">React</span>
								<span class="tag">TypeScript</span>
								<span class="tag">Tailwind CSS</span>
							</div>
							<span class="feed-link">
								View Project <i class="fa-solid fa-arrow-up-right-from-square"></i>
							</span>
						</div>
					</div>
				</article>
				</a>

				<!-- Project 4: Shacks Bloom & Co -->
				<a href="https://bloom-ebon-two.vercel.app/" target="_blank" rel="noopener noreferrer" class="feed-item-link">
					<article class="feed-item">
					<div class="feed-background feed-bg-2">
						<div class="abstract-shape shape-1"></div>
						<div class="abstract-shape shape-2"></div>
						<div class="abstract-shape shape-3"></div>
					</div>
					<div class="feed-content">
						<div class="feed-meta">
							<time class="feed-date">Nov 2025</time>
							<span class="feed-type type-project">Project</span>
						</div>
						<div class="feed-main">
							<h3 class="feed-title">Shacks Bloom & Co</h3>
							<p class="feed-description">
								Web application built with React and Vite, integrated with Builder.io's Fusion AI tool for visual editing across non-technical team members and managed through GitHub.
							</p>
							<div class="feed-tags">
								<span class="tag">React</span>
								<span class="tag">Vite</span>
								<span class="tag">JavaScript</span>
								<span class="tag">Builder.io</span>
							</div>
							<span class="feed-link">
								View Project <i class="fa-solid fa-arrow-up-right-from-square"></i>
							</span>
						</div>
					</div>
				</article>
				</a>

				<!-- Featured Blog 1 -->
				<a href="https://webflow.com/blog/headless-cms-developer-tradeoffs" target="_blank" rel="noopener noreferrer" class="feed-item-link">
					<article class="feed-item">
						<div class="feed-background feed-bg-3">
							<div class="abstract-shape shape-1"></div>
							<div class="abstract-shape shape-2"></div>
							<div class="abstract-shape shape-3"></div>
						</div>
						<div class="feed-content">
							<div class="feed-meta">
								<time class="feed-date">Oct 2025</time>
								<span class="feed-type type-article">Article</span>
							</div>
							<div class="feed-main">
								<h3 class="feed-title">Developers love headless until they're stuck maintaining it</h3>
								<p class="feed-description">
									Exploring the limitations of headless CMS platforms for marketing websites and why a hybrid approach might be the better solution for team velocity and reduced complexity.
								</p>
								<div class="feed-tags">
									<span class="tag">CMS</span>
									<span class="tag">Headless</span>
									<span class="tag">DevOps</span>
								</div>
								<span class="feed-link">
									Read Article <i class="fa-solid fa-arrow-up-right-from-square"></i>
								</span>
							</div>
						</div>
					</article>
				</a>

				<!-- Conference Talk -->
				<a href="https://youtu.be/KtXlsaPwS2U?si=h_-xYXvyF4DiG2cj" target="_blank" rel="noopener noreferrer" class="feed-item-link">
					<article class="feed-item">
					<div class="feed-background feed-bg-2">
						<div class="abstract-shape shape-1"></div>
						<div class="abstract-shape shape-2"></div>
						<div class="abstract-shape shape-3"></div>
					</div>
					<div class="feed-content">
						<div class="feed-meta">
							<time class="feed-date">Sept 2025</time>
							<span class="feed-type type-talk">Talk</span>
						</div>
						<div class="feed-main">
							<h3 class="feed-title">
								<i class="fa-solid fa-video"></i>
								Webflow Cloud for Full-Stack Web Apps
							</h3>
							<p class="feed-description">
								Webflow Cloud introduces a new foundation for building on the web, where full-stack applications and sites run together on the same edge-native platform.
							</p>
							<div class="feed-tags">
								<span class="tag">Infrastructure</span>
								<span class="tag">Deployment</span>
								<span class="tag">Web-apps</span>
							</div>
							<span class="feed-link">
								Watch Talk <i class="fa-solid fa-arrow-up-right-from-square"></i>
							</span>
						</div>
					</div>
				</article>
				</a>

				<!-- Featured Blog 2 -->
				<a href="https://webflow.com/blog/ai-mcp-servers" target="_blank" rel="noopener noreferrer" class="feed-item-link">
					<article class="feed-item">
					<div class="feed-background feed-bg-1">
						<div class="abstract-shape shape-1"></div>
						<div class="abstract-shape shape-2"></div>
						<div class="abstract-shape shape-3"></div>
					</div>
					<div class="feed-content">
						<div class="feed-meta">
							<time class="feed-date">Aug 2025</time>
							<span class="feed-type type-article">Article</span>
						</div>
						<div class="feed-main">
							<h3 class="feed-title">MCP servers worth knowing if you're building with AI</h3>
							<p class="feed-description">
								Explore Model Context Protocol servers that provide structured context for AI tools. Learn about integrating MCP servers like Context7, Figma, GitHub, and more with AI-powered development environments.
							</p>
							<div class="feed-tags">
								<span class="tag">AI</span>
								<span class="tag">MCP</span>
								<span class="tag">Development</span>
							</div>
							<span class="feed-link">
								Read Article <i class="fa-solid fa-arrow-up-right-from-square"></i>
							</span>
						</div>
					</div>
				</article>
				</a>

				<!-- Project 3: SERP Tracker -->
				<a href="https://seo-rank-tracker-iota.vercel.app/" target="_blank" rel="noopener noreferrer" class="feed-item-link">
					<article class="feed-item">
					<div class="feed-background feed-bg-3">
						<div class="abstract-shape shape-1"></div>
						<div class="abstract-shape shape-2"></div>
						<div class="abstract-shape shape-3"></div>
					</div>
					<div class="feed-content">
						<div class="feed-meta">
							<time class="feed-date">Feb 2025</time>
							<span class="feed-type type-project">Project</span>
						</div>
						<div class="feed-main">
							<h3 class="feed-title">SERP Tracker</h3>
							<p class="feed-description">
								Real-time search engine ranking tracker built with React and TypeScript. Features Chart.js visualizations, TanStack Table for data display, and SERP API integration.
							</p>
							<div class="feed-tags">
								<span class="tag">React</span>
								<span class="tag">TypeScript</span>
								<span class="tag">Chart.js</span>
								<span class="tag">Tailwind CSS</span>
							</div>
							<span class="feed-link">
								View Project <i class="fa-solid fa-arrow-up-right-from-square"></i>
							</span>
						</div>
					</div>
				</article>
				</a>

				<!-- Project 5: Stahlwalker Cookbook -->
				<a href="https://cookblog.vercel.app/" target="_blank" rel="noopener noreferrer" class="feed-item-link">
					<article class="feed-item">
					<div class="feed-background feed-bg-4">
						<div class="abstract-shape shape-1"></div>
						<div class="abstract-shape shape-2"></div>
						<div class="abstract-shape shape-3"></div>
					</div>
					<div class="feed-content">
						<div class="feed-meta">
							<time class="feed-date">July 2022</time>
							<span class="feed-type type-project">Project</span>
						</div>
						<div class="feed-main">
							<h3 class="feed-title">Stahlwalker Cookbook</h3>
							<p class="feed-description">
								Full-stack recipe app with Next.js and Contentful CMS featuring JAMstack architecture and dynamic content delivery.
							</p>
							<div class="feed-tags">
								<span class="tag">Next.js</span>
								<span class="tag">React</span>
								<span class="tag">Contentful</span>
							</div>
							<span class="feed-link">
								View Project <i class="fa-solid fa-arrow-up-right-from-square"></i>
							</span>
						</div>
					</div>
				</article>
				</a>
				</div>
			</div>

			<!-- GitHub Call-to-Action -->
			<div class="github-cta">
				<div class="github-cta-content">
					<i class="fa-brands fa-github github-icon"></i>
					<h3 class="github-cta-title">View all my work on GitHub</h3>
					<p class="github-cta-description">Explore my open-source contributions, side projects, and code repositories</p>
					<a href="https://github.com/Stahlwalker" target="_blank" class="btn-modern btn-github">
						<i class="fa-brands fa-github"></i>
						Visit GitHub Profile
					</a>
				</div>
			</div>

			<div class="cta-section">
				<p class="cta-text">Explore the complete collection</p>
				<div class="cta-buttons">
					<a href="https://lukestahl.io/builds" class="btn-modern btn-primary-modern">
						<i class="fa-solid fa-code"></i>
						All Projects
					</a>
					<a href="https://lukestahl.io/blog" class="btn-modern btn-secondary-modern">
						<i class="fa-solid fa-pen"></i>
						Read Blogs
					</a>
				</div>
			</div>
		</div>
	</section>

	<style>
		/* Sidebar Filter Layout */
		.highlights-wrapper {
			display: flex;
			flex-direction: column;
			gap: 1rem;
		}

		.filter-sidebar {
			display: none; /* Hidden by default, shown when sidebar-layout class is added */
			flex-direction: column;
			gap: 0.5rem;
			background: var(--bg-secondary);
			padding: 1.5rem;
			border-radius: 8px;
			border: 1px solid rgba(255, 255, 255, 0.1);
			align-self: start;
		}

		.highlights-wrapper.sidebar-layout {
			display: grid;
			grid-template-columns: 200px 1fr;
			gap: 2rem;
		}

		.highlights-wrapper.sidebar-layout .filter-sidebar {
			display: flex;
		}

		/* 2-column grid for cards when sidebar is active */
		.highlights-wrapper.sidebar-layout .feed-container {
			display: grid !important;
			grid-template-columns: repeat(2, 1fr);
			gap: 1rem;
		}

		.filter-title {
			font-family: 'Fira Code', monospace;
			font-size: 0.875rem;
			font-weight: 600;
			color: var(--accent-primary);
			margin: 0 0 0.75rem 0;
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}

		.filter-btn {
			display: flex;
			align-items: center;
			gap: 0.75rem;
			padding: 0.75rem 1rem;
			background: transparent;
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 6px;
			color: var(--text-secondary);
			font-family: 'Fira Code', monospace;
			font-size: 0.875rem;
			cursor: pointer;
			transition: all 0.2s ease;
			text-align: left;
		}

		.filter-btn:hover {
			background: rgba(96, 165, 250, 0.1);
			border-color: var(--accent-primary);
			color: var(--text-primary);
		}

		.filter-btn.active {
			background: rgba(96, 165, 250, 0.15);
			border-color: var(--accent-primary);
			color: var(--accent-primary);
		}

		.filter-btn i {
			font-size: 1rem;
			opacity: 0.8;
		}

		.filter-btn.active i {
			opacity: 1;
		}

		/* Hide filtered items */
		.feed-item-link.hidden {
			display: none;
		}

		/* Single column when only 1 item visible */
		.highlights-wrapper.sidebar-layout .feed-container.single-item {
			grid-template-columns: 1fr !important;
		}

		/* Responsive */
		@media (max-width: 968px) {
			.highlights-wrapper.sidebar-layout {
				grid-template-columns: 1fr;
			}

			.highlights-wrapper.sidebar-layout .filter-sidebar {
				display: flex !important;
				flex-direction: row;
				flex-wrap: wrap;
				gap: 0.5rem;
			}

			.filter-title {
				width: 100%;
			}

			.filter-btn {
				flex: 0 0 auto;
				padding: 0.5rem 0.75rem;
				font-size: 0.8125rem;
			}

			/* Single column on mobile for better readability */
			.highlights-wrapper.sidebar-layout .feed-container {
				grid-template-columns: 1fr !important;
			}
		}

		/* Light mode styles */
		:global([data-theme="light"]) .filter-sidebar {
			background: #f8fafc;
			border: 2px solid #94a3b8;
		}

		:global([data-theme="light"]) .filter-title {
			color: #2563eb;
		}

		:global([data-theme="light"]) .filter-btn {
			color: #64748b;
			border-color: #cbd5e1;
		}

		:global([data-theme="light"]) .filter-btn:hover {
			background: rgba(37, 99, 235, 0.08);
			border-color: #2563eb;
			color: #1e293b;
		}

		:global([data-theme="light"]) .filter-btn.active {
			background: rgba(37, 99, 235, 0.12);
			border-color: #2563eb;
			color: #2563eb;
		}
	</style>

	<script>
		// Smooth scroll functionality for scroll indicator
		document.getElementById('scrollIndicator')?.addEventListener('click', function() {
			document.getElementById('featuredContent')?.scrollIntoView({
				behavior: 'smooth',
				block: 'start'
			});
		});

		// PostHog tracking for hero buttons
		document.addEventListener('DOMContentLoaded', function() {
			// Track View Resume button click
			const viewResumeBtn = document.getElementById('viewResumeBtn');
			if (viewResumeBtn) {
				viewResumeBtn.addEventListener('click', function() {
					if (window.posthog) {
						window.posthog.capture('resume_downloaded', {
							button_location: 'hero_section',
							button_text: 'View Resume'
						});
					}
				});
			}

			// Track Portfolio button click
			const portfolioBtn = document.getElementById('portfolioBtn');
			if (portfolioBtn) {
				portfolioBtn.addEventListener('click', function() {
					if (window.posthog) {
						window.posthog.capture('portfolio_clicked', {
							button_location: 'hero_section',
							button_text: 'Portfolio',
							destination: 'notion'
						});
					}
				});
			}

		// Filter functionality
		function initializeFilters() {
			const filterButtons = document.querySelectorAll('.filter-btn');
			const feedItems = document.querySelectorAll('.feed-item-link');

			// Add data attributes to cards based on their type badge
			feedItems.forEach(item => {
				const typeBadge = item.querySelector('.feed-type');
				if (typeBadge) {
					const typeText = typeBadge.textContent.trim().toLowerCase();
					item.setAttribute("data-type", typeText);
					console.log("Set data-type:", typeText, "on", item); // Debug log
				}
			});

			// Handle filter button clicks
			function handleFilterClick(button) {
				const filter = button.getAttribute("data-filter");
				const feedContainer = document.getElementById("feedContainer");

				console.log("Filtering by:", filter); // Debug log

				// Update active state
				filterButtons.forEach(btn => btn.classList.remove('active'));
				button.classList.add('active');

				// Filter cards
				let visibleCount = 0;
				feedItems.forEach(item => {
					const itemType = item.getAttribute("data-type");
					console.log("Item type:", itemType, "Filter:", filter, "Match:", filter === "all" || itemType === filter); // Debug log

					if (filter === 'all' || itemType === filter) {
						item.classList.remove('hidden');
						visibleCount++;
					} else {
						item.classList.add('hidden');
					}
				});

				console.log("Visible count:", visibleCount); // Debug log

				// Switch to single column when only 1 item visible
				if (visibleCount === 1) {
					feedContainer.classList.add('single-item');
				} else {
					feedContainer.classList.remove('single-item');
				}
			}

			filterButtons.forEach(button => {
				// Regular click for desktop
				button.addEventListener('click', function(e) {
					handleFilterClick(this);
				});

				// Touch event for mobile
				button.addEventListener('touchend', function(e) {
					e.preventDefault();
					e.stopPropagation();
					handleFilterClick(this);
				});
			});
		}

		// A/B Test: Sidebar Filter Layout
		// Wait for PostHog to load feature flags before checking
		if (window.posthog) {
			window.posthog.onFeatureFlags(function() {
				const highlightsWrapper = document.getElementById('highlightsWrapper');
				const variant = window.posthog.getFeatureFlag('highlights-layout-test');

				console.log('Feature flag loaded:', variant); // Debug log

				// Apply sidebar layout if test variant
				if (variant === 'test' && highlightsWrapper) {
					highlightsWrapper.classList.add('sidebar-layout');
					initializeFilters();
				}
			});
		}

		// Also initialize filters if sidebar is already present (for testing/debugging)
		setTimeout(function() {
			const highlightsWrapper = document.getElementById('highlightsWrapper');
			if (highlightsWrapper && highlightsWrapper.classList.contains('sidebar-layout')) {
				console.log('Sidebar detected, initializing filters');
				initializeFilters();
			}
		}, 500);

		// Expose filter initialization globally for testing
		window.initializeFilters = initializeFilters;
	});
</script>
			}

			// Expose filter initialization globally for testing
			window.initializeFilters = initializeFilters;
		});
	</script>
</Layout>
